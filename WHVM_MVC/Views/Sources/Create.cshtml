@model WHVM_MVC.Models.Source

@{
    Layout = "_ModelLayout";
}

<form asp-action="Create">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="SourceId" />
    <div class="form-group">
        <label asp-for="SourceLabel" class="control-label">Label</label>
        <input asp-for="SourceLabel" class="form-control" />
        <span asp-validation-for="SourceLabel" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SourceDateBurned" class="control-label">Date Burned</label>
        <div class='input-group date'>
            <input type="text" asp-for="SourceDateBurned" class="form-control" id="datetimepickerBurned" runat="server" ClientIDMode="Static" />
            <div class="input-group-append" data-target="#datetimepickerBurned" data-toggle="datetimepicker">
                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="SourceDateRipped" class="control-label">Date Ripped</label>
        <div class='input-group date'>
            <input type="text" asp-for="SourceDateRipped" class="form-control" id="datetimepickerRipped" runat="server" ClientIDMode="Static" />
            <div class="input-group-append" data-target="#datetimepickerRipped" data-toggle="datetimepicker">
                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label asp-for="SourceFormatId" class="control-label">Original Media Format</label>
        <span asp-validation-for="SourceFormatId" class="text-danger"></span>
        <div>
            <div class="btn-group btn-group-toggle" id="SourceFormatSelector" data-toggle="buttons">
                @foreach (SourceFormat format in SourceFormat.AllFormats)
                {
                    <label class="btn btn-secondary" name="radio-@format.SourceFormatId">
                        <input type="radio" asp-for="SourceFormatId" name="SourceFormatId" id="sourceFormats_@format.SourceFormatId" value="@format.SourceFormatId" autocomplete="off" /> @format.SourceFormatText
                    </label>
                }
            </div>
        </div>
    </div>
    <div class="form-group">
        <input type="submit" value="Create" class="btn btn-primary" />
    </div>
</form>

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script type="text/javascript">
        $(document).ready(function () {
            var dateTimePickerOpts = {
                icons: { time: 'fas fa-clock' },
                format: 'M[/]D[/]YYYY hh[:]mm[:]ss A',
                extraFormats: ['YYYY[-]MM[-]DD[T]HH[:]mm[:]ss[.]SSSS']
            };

            $('#datetimepickerBurned').datetimepicker(dateTimePickerOpts);
            $('#datetimepickerRipped').datetimepicker(dateTimePickerOpts);
        });

    </script>
}